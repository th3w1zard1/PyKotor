<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Panda3D: direct.tkpanels.FSMInspector Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Panda3D
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedirect.html">direct</a></li><li class="navelem"><a class="el" href="namespacedirect_1_1tkpanels.html">tkpanels</a></li><li class="navelem"><a class="el" href="namespacedirect_1_1tkpanels_1_1FSMInspector.html">FSMInspector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">direct.tkpanels.FSMInspector Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdirect_1_1tkpanels_1_1FSMInspector_1_1FSMInspector.html">FSMInspector</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdirect_1_1tkpanels_1_1FSMInspector_1_1StateInspector.html">StateInspector</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac7319f2cca3539feffb8c1c945cbe250" id="r_ac7319f2cca3539feffb8c1c945cbe250"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7319f2cca3539feffb8c1c945cbe250">DELTA</a> = (5.0 / 360.) * 2.0 * math.pi</td></tr>
<tr class="separator:ac7319f2cca3539feffb8c1c945cbe250"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Defines the `FSMInspector` class, which opens a Tkinter window for
inspecting :ref:`finite-state-machines`.

Using the Finite State Inspector
--------------------------------

1) In your Config.prc add::

    want-tk #t

2) Start up the show and create a Finite State Machine::

    from direct.showbase.ShowBaseGlobal import *

    from direct.fsm import ClassicFSM
    from direct.fsm import State

    def enterState():
        print('enterState')

    def exitState():
        print 'exitState'

    fsm = ClassicFSM.ClassicFSM('stopLight',
              [State.State('red', enterState, exitState, ['green']),
                State.State('yellow', enterState, exitState, ['red']),
                State.State('green', enterState, exitState, ['yellow'])],
              'red',
              'red')

    import FSMInspector

    inspector = FSMInspector.FSMInspector(fsm, title = fsm.getName())

    # Note, the inspectorPos argument is optional, the inspector will
    # automagically position states on startup
    fsm = ClassicFSM.ClassicFSM('stopLight', [
        State.State('yellow',
                    enterState,
                    exitState,
                    ['red'],
                    inspectorPos = [95.9, 48.0]),
        State.State('red',
                    enterState,
                    exitState,
                    ['green'],
                    inspectorPos = [0.0, 0.0]),
        State.State('green',
                    enterState,
                    exitState,
                    ['yellow'],
                    inspectorPos = [0.0, 95.9])],
            'red',
            'red')

3) Pop open a viewer::

    import FSMInspector
    insp = FSMInspector.FSMInspector(fsm)

or if you wish to be fancy::

    insp = FSMInspector.FSMInspector(fsm, title = fsm.getName())

Features:

  - Right mouse button over a state pops up a menu allowing you to
    request a transition to that state
  - Middle mouse button will grab the canvas and slide things around if
    your state machine is bigger than the viewing area
  - There are some self explanatory menu options up at the top, the most
    useful being: "print ClassicFSM layout" which will print out Python
    code which will create an ClassicFSM augmented with layout
    information for the viewer so everything shows up in the same place
    the next time you inspect the state machine

Caveat
------

There is an unexplained problem with using Tk and emacs right now which
occasionally results in everything locking up.  This procedure seems to
avoid the problem for me::

   # Start up the show
   from direct.showbase.ShowBaseGlobal import *

   # You will see the window and a Tk panel pop open

   # Type a number at the emacs prompt
   &gt;&gt;&gt; 123

   # At this point everything will lock up and you won't get your prompt back

   # Hit a bunch of Control-C's in rapid succession, in most cases
   # this will break you out of whatever badness you were in and
   # from that point on everything will behave normally


   # This is how you pop up an inspector
   import FSMInspector
   inspector = FSMInspector.FSMInspector(fsm, title = fsm.getName())</pre> </div><h2 class="groupheader">Variable Documentation</h2>
<a id="ac7319f2cca3539feffb8c1c945cbe250" name="ac7319f2cca3539feffb8c1c945cbe250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7319f2cca3539feffb8c1c945cbe250">&#9670;&#160;</a></span>DELTA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple DELTA = (5.0 / 360.) * 2.0 * math.pi</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 8 2024 11:21:33 for Panda3D by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
