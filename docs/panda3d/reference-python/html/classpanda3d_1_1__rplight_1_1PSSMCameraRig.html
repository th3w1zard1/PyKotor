<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Panda3D: PSSMCameraRig Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Panda3D
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepanda3d.html">panda3d</a></li><li class="navelem"><a class="el" href="namespacepanda3d_1_1__rplight.html">_rplight</a></li><li class="navelem"><a class="el" href="classpanda3d_1_1__rplight_1_1PSSMCameraRig.html">PSSMCameraRig</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classpanda3d_1_1__rplight_1_1PSSMCameraRig-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">PSSMCameraRig Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Main class used for handling PSSM.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;pandadoc.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a397993c6a2d6fb704623c9e95d232a94" id="r_a397993c6a2d6fb704623c9e95d232a94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a397993c6a2d6fb704623c9e95d232a94">__init__</a> (const <a class="el" href="classpanda3d_1_1__rplight_1_1PSSMCameraRig.html">PSSMCameraRig</a>)</td></tr>
<tr class="separator:a397993c6a2d6fb704623c9e95d232a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2702f1dfad697efc231caae5382474b4" id="r_a2702f1dfad697efc231caae5382474b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2702f1dfad697efc231caae5382474b4">__init__</a> (int num_splits)</td></tr>
<tr class="memdesc:a2702f1dfad697efc231caae5382474b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new PSSM camera rig.  <br /></td></tr>
<tr class="separator:a2702f1dfad697efc231caae5382474b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a4b7107f5e9dd753f6ff3ab28925cf" id="r_af7a4b7107f5e9dd753f6ff3ab28925cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpanda3d_1_1core_1_1NodePath.html">NodePath</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7a4b7107f5e9dd753f6ff3ab28925cf">getCamera</a> (int index)</td></tr>
<tr class="memdesc:af7a4b7107f5e9dd753f6ff3ab28925cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the n-th camera.  <br /></td></tr>
<tr class="separator:af7a4b7107f5e9dd753f6ff3ab28925cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2acf3fce49bf595c7b0a65070950af3b" id="r_a2acf3fce49bf595c7b0a65070950af3b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacepanda3d_1_1core.html#a3dcfa80d8e48c7c0171dd96e16311d3c">PTALMatrix4</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2acf3fce49bf595c7b0a65070950af3b">getMvpArray</a> ()</td></tr>
<tr class="memdesc:a2acf3fce49bf595c7b0a65070950af3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a handle to the MVP array.  <br /></td></tr>
<tr class="separator:a2acf3fce49bf595c7b0a65070950af3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99398b785e35bb45638022724b1e412f" id="r_a99398b785e35bb45638022724b1e412f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacepanda3d_1_1core.html#a7ae6448d90e60784d54539c4f346abc3">PTALVecBase2</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99398b785e35bb45638022724b1e412f">getNearfarArray</a> ()</td></tr>
<tr class="memdesc:a99398b785e35bb45638022724b1e412f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a handle to the near and far planes array.  <br /></td></tr>
<tr class="separator:a99398b785e35bb45638022724b1e412f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56401209555ca4b6dd500d13d9e36ac9" id="r_a56401209555ca4b6dd500d13d9e36ac9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56401209555ca4b6dd500d13d9e36ac9">reparentTo</a> (<a class="el" href="classpanda3d_1_1core_1_1NodePath.html">NodePath</a> parent)</td></tr>
<tr class="memdesc:a56401209555ca4b6dd500d13d9e36ac9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reparents the camera rig.  <br /></td></tr>
<tr class="separator:a56401209555ca4b6dd500d13d9e36ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a316881410ab743d01f7a9bd32d78cfe8" id="r_a316881410ab743d01f7a9bd32d78cfe8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a316881410ab743d01f7a9bd32d78cfe8">resetFilmSizeCache</a> ()</td></tr>
<tr class="memdesc:a316881410ab743d01f7a9bd32d78cfe8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the film size cache.  <br /></td></tr>
<tr class="separator:a316881410ab743d01f7a9bd32d78cfe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79bd35b75254a9f3c6f375c5e564d959" id="r_a79bd35b75254a9f3c6f375c5e564d959"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79bd35b75254a9f3c6f375c5e564d959">setBorderBias</a> (float bias)</td></tr>
<tr class="memdesc:a79bd35b75254a9f3c6f375c5e564d959"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the border bias for each split.  <br /></td></tr>
<tr class="separator:a79bd35b75254a9f3c6f375c5e564d959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4de634570af8b0adf9dc7265d9951e5" id="r_ac4de634570af8b0adf9dc7265d9951e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4de634570af8b0adf9dc7265d9951e5">setLogarithmicFactor</a> (float factor)</td></tr>
<tr class="memdesc:ac4de634570af8b0adf9dc7265d9951e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the logarithmic factor.  <br /></td></tr>
<tr class="separator:ac4de634570af8b0adf9dc7265d9951e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab1e1b3dd25c7a1e0efc7a6fdd434183" id="r_aab1e1b3dd25c7a1e0efc7a6fdd434183"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab1e1b3dd25c7a1e0efc7a6fdd434183">setPssmDistance</a> (float distance)</td></tr>
<tr class="memdesc:aab1e1b3dd25c7a1e0efc7a6fdd434183"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum pssm distance.  <br /></td></tr>
<tr class="separator:aab1e1b3dd25c7a1e0efc7a6fdd434183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c8762e16a57c2fdeb101b784f7c1dfd" id="r_a6c8762e16a57c2fdeb101b784f7c1dfd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c8762e16a57c2fdeb101b784f7c1dfd">setResolution</a> (int resolution)</td></tr>
<tr class="memdesc:a6c8762e16a57c2fdeb101b784f7c1dfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the resolution of each split.  <br /></td></tr>
<tr class="separator:a6c8762e16a57c2fdeb101b784f7c1dfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e22fe4446f2f409b2c21dcee0b7f1ae" id="r_a8e22fe4446f2f409b2c21dcee0b7f1ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8e22fe4446f2f409b2c21dcee0b7f1ae">setSunDistance</a> (float distance)</td></tr>
<tr class="memdesc:a8e22fe4446f2f409b2c21dcee0b7f1ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the suns distance.  <br /></td></tr>
<tr class="separator:a8e22fe4446f2f409b2c21dcee0b7f1ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcabc0b7e92a026a289d4c813fcceee4" id="r_afcabc0b7e92a026a289d4c813fcceee4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afcabc0b7e92a026a289d4c813fcceee4">setUseFixedFilmSize</a> (bool flag)</td></tr>
<tr class="memdesc:afcabc0b7e92a026a289d4c813fcceee4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets whether to use a fixed film size.  <br /></td></tr>
<tr class="separator:afcabc0b7e92a026a289d4c813fcceee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0b01eba14f475ce501493036ab5b12d" id="r_ac0b01eba14f475ce501493036ab5b12d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0b01eba14f475ce501493036ab5b12d">setUseStableCsm</a> (bool flag)</td></tr>
<tr class="memdesc:ac0b01eba14f475ce501493036ab5b12d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets whether to use stable CSM snapping.  <br /></td></tr>
<tr class="separator:ac0b01eba14f475ce501493036ab5b12d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39342923de4dc80636a8c16adba63132" id="r_a39342923de4dc80636a8c16adba63132"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a39342923de4dc80636a8c16adba63132">update</a> (<a class="el" href="classpanda3d_1_1core_1_1NodePath.html">NodePath</a> cam_node, const <a class="el" href="namespacepanda3d_1_1core.html#ad76f4c49db2725fc52dcac03d390dde9">LVecBase3</a> light_vector)</td></tr>
<tr class="memdesc:a39342923de4dc80636a8c16adba63132"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the PSSM camera rig.  <br /></td></tr>
<tr class="separator:a39342923de4dc80636a8c16adba63132"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main class used for handling PSSM. </p>
<p>This is the main class for supporting PSSM, it is used by the PSSM plugin to compute the position of the splits.</p>
<p>It supports handling a varying amount of cameras, and fitting those cameras into the main camera frustum, to render distant shadows. It also supports various optimizations for fitting the frustum, e.g. rotating the sources to get a better coverage.</p>
<p>It also provides methods to get arrays of data about the used cameras view-projection matrices and their near and far plane, which is required for processing the data in the shadow sampling shader.</p>
<p>In this class, there is often referred to "Splits" or also called "Cascades". These denote the different cameras which are used to split the frustum, and are a common term related to the PSSM algorithm.</p>
<p>To understand the functionality of this class, a detailed knowledge of the PSSM algorithm is helpful. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a397993c6a2d6fb704623c9e95d232a94" name="a397993c6a2d6fb704623c9e95d232a94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a397993c6a2d6fb704623c9e95d232a94">&#9670;&#160;</a></span>__init__() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__init__ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classpanda3d_1_1__rplight_1_1PSSMCameraRig.html">PSSMCameraRig</a></td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2702f1dfad697efc231caae5382474b4" name="a2702f1dfad697efc231caae5382474b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2702f1dfad697efc231caae5382474b4">&#9670;&#160;</a></span>__init__() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__init__ </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_splits</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new PSSM camera rig. </p>
<p>This constructs a new camera rig, with a given amount of splits. The splits can not be changed later on. Splits are also called Cascades.</p>
<p>An assertion will be triggered if the splits are below zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num_splits</td><td>Amount of PSSM splits </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af7a4b7107f5e9dd753f6ff3ab28925cf" name="af7a4b7107f5e9dd753f6ff3ab28925cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a4b7107f5e9dd753f6ff3ab28925cf">&#9670;&#160;</a></span>getCamera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpanda3d_1_1core_1_1NodePath.html">NodePath</a> getCamera </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>index</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the n-th camera. </p>
<p>This returns the n-th camera of the camera rig, which can be used for various stuff like showing its frustum, passing it as a shader input, and so on.</p>
<p>The first camera is the camera which is the camera of the first split, which is the split closest to the camera. All cameras follow in descending order until to the last camera, which is the split furthest away from the camera.</p>
<p>If an invalid index is passed, an assertion is thrown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Index of the camera. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[description] </dd></dl>

</div>
</div>
<a id="a2acf3fce49bf595c7b0a65070950af3b" name="a2acf3fce49bf595c7b0a65070950af3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2acf3fce49bf595c7b0a65070950af3b">&#9670;&#160;</a></span>getMvpArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacepanda3d_1_1core.html#a3dcfa80d8e48c7c0171dd96e16311d3c">PTALMatrix4</a> getMvpArray </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a handle to the MVP array. </p>
<p>This returns a handle to the array of view-projection matrices of the different splits. This can be used for computing shadows. The array is a PTALMatrix4 and thus can be directly bound to a shader.</p>
<dl class="section return"><dt>Returns</dt><dd>view-projection matrix array </dd></dl>

</div>
</div>
<a id="a99398b785e35bb45638022724b1e412f" name="a99398b785e35bb45638022724b1e412f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99398b785e35bb45638022724b1e412f">&#9670;&#160;</a></span>getNearfarArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacepanda3d_1_1core.html#a7ae6448d90e60784d54539c4f346abc3">PTALVecBase2</a> getNearfarArray </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a handle to the near and far planes array. </p>
<p>This returns a handle to the near and far plane array. Each split has an entry in the array, whereas the x component of the vecto denotes the near plane, and the y component denotes the far plane of the split.</p>
<p>This is required because the near and far planes of the splits change constantly. To access them in a shader, the shader needs access to the array.</p>
<dl class="section return"><dt>Returns</dt><dd>Array of near and far planes </dd></dl>

</div>
</div>
<a id="a56401209555ca4b6dd500d13d9e36ac9" name="a56401209555ca4b6dd500d13d9e36ac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56401209555ca4b6dd500d13d9e36ac9">&#9670;&#160;</a></span>reparentTo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">reparentTo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1NodePath.html">NodePath</a></td>          <td class="paramname"><span class="paramname"><em>parent</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reparents the camera rig. </p>
<p>This reparents all cameras to the given parent. Usually the parent will be ShowBase.render. The parent should be the same node where the main camera is located in, too.</p>
<p>If an empty parrent is passed, an assertion will get triggered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>Parent node path </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a316881410ab743d01f7a9bd32d78cfe8" name="a316881410ab743d01f7a9bd32d78cfe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a316881410ab743d01f7a9bd32d78cfe8">&#9670;&#160;</a></span>resetFilmSizeCache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">resetFilmSizeCache </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the film size cache. </p>
<p>In case PSSMCameraRig::set_use_fixed_film_size is used, this resets the film size cache. This might lead to a small "jump" in the shadows, because the film size changes, however it leads to a better shadow distribution.</p>
<p>This is the case because when using a fixed film size, the cache will get bigger and bigger, whenever the camera moves to a grazing angle. However, when moving back to a normal angle, the film size cache still stores this big angle, and thus the splits will have a much bigger film size than actualy required. To prevent this, call this method once in a while, so an optimal distribution is ensured. </p>

</div>
</div>
<a id="a79bd35b75254a9f3c6f375c5e564d959" name="a79bd35b75254a9f3c6f375c5e564d959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79bd35b75254a9f3c6f375c5e564d959">&#9670;&#160;</a></span>setBorderBias()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setBorderBias </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>bias</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the border bias for each split. </p>
<p>This sets the border bias for every split. This increases each splits frustum by multiplying it by (1 + bias), and helps reducing artifacts at the borders of the splits. Artifacts can occur when the bias is too low, because then the filtering will go over the bounds of the split, producing invalid results.</p>
<p>If the bias is below zero, an assertion is thrown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bias</td><td>Border bias </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac4de634570af8b0adf9dc7265d9951e5" name="ac4de634570af8b0adf9dc7265d9951e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4de634570af8b0adf9dc7265d9951e5">&#9670;&#160;</a></span>setLogarithmicFactor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setLogarithmicFactor </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>factor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the logarithmic factor. </p>
<p>This sets the logarithmic factor, which is the core of the algorithm. PSSM splits the camera frustum based on a linear and a logarithmic factor. While a linear factor provides a good distribution, it often is not applicable for wider distances. A logarithmic distribution provides a better distribution at distance, but suffers from splitting in the near areas.</p>
<p>The logarithmic factor mixes the logarithmic and linear split distribution, to get the best of both. A greater factor will make the distribution more logarithmic, while a smaller factor will make it more linear.</p>
<p>If the factor is below zero, an ssertion is triggered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">factor</td><td>The logarithmic factor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aab1e1b3dd25c7a1e0efc7a6fdd434183" name="aab1e1b3dd25c7a1e0efc7a6fdd434183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab1e1b3dd25c7a1e0efc7a6fdd434183">&#9670;&#160;</a></span>setPssmDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setPssmDistance </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>distance</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the maximum pssm distance. </p>
<p>This sets the maximum distance in world space until which shadows are rendered. After this distance, no shadows will be rendered.</p>
<p>If the distance is below zero, an assertion is triggered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">distance</td><td>Maximum distance in world space </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6c8762e16a57c2fdeb101b784f7c1dfd" name="a6c8762e16a57c2fdeb101b784f7c1dfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c8762e16a57c2fdeb101b784f7c1dfd">&#9670;&#160;</a></span>setResolution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setResolution </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>resolution</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the resolution of each split. </p>
<p>This sets the resolution of each split. Currently it is equal for each split. This is required when using PSSMCameraRig::set_use_stable_csm, to compute how bix a texel is.</p>
<p>It has to match the y-resolution of the pssm shadow map. If an invalid resolution is triggered, an assertion is thrown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">resolution</td><td>The resolution of each split. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8e22fe4446f2f409b2c21dcee0b7f1ae" name="a8e22fe4446f2f409b2c21dcee0b7f1ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e22fe4446f2f409b2c21dcee0b7f1ae">&#9670;&#160;</a></span>setSunDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setSunDistance </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>distance</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the suns distance. </p>
<p>This sets the distance the cameras will have from the cameras frustum. This prevents far objects from having no shadows, which can occur when these objects are between the cameras frustum and the sun, but not inside of the cameras frustum. Setting the sun distance high enough will move the cameras away from the camera frustum, being able to cover those distant objects too.</p>
<p>If the sun distance is set too high, artifacts will occur due to the reduced range of depth. If a value below zero is passed, an assertion will get triggered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">distance</td><td>The sun distance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afcabc0b7e92a026a289d4c813fcceee4" name="afcabc0b7e92a026a289d4c813fcceee4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcabc0b7e92a026a289d4c813fcceee4">&#9670;&#160;</a></span>setUseFixedFilmSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setUseFixedFilmSize </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>flag</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets whether to use a fixed film size. </p>
<p>This controls if a fixed film size should be used. This will cause the camera rig to cache the current film size, and only change it in case it gets too small. This provides less flickering when moving, because the film size will stay roughly constant. However, to prevent the cached film size getting too big, one should call PSSMCameraRig::reset_film_size once in a while, otherwise there might be a lot of wasted space.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>Whether to use a fixed film size </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac0b01eba14f475ce501493036ab5b12d" name="ac0b01eba14f475ce501493036ab5b12d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0b01eba14f475ce501493036ab5b12d">&#9670;&#160;</a></span>setUseStableCsm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setUseStableCsm </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>flag</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets whether to use stable CSM snapping. </p>
<p>This option controls if stable CSM snapping should be used. When the option is enabled, all splits will snap to their texels, so that when moving, no flickering will occur. However, this only works when the splits do not change their film size, rotation and angle.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>Whether to use stable CSM snapping </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a39342923de4dc80636a8c16adba63132" name="a39342923de4dc80636a8c16adba63132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39342923de4dc80636a8c16adba63132">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1NodePath.html">NodePath</a></td>          <td class="paramname"><span class="paramname"><em>cam_node</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacepanda3d_1_1core.html#ad76f4c49db2725fc52dcac03d390dde9">LVecBase3</a></td>          <td class="paramname"><span class="paramname"><em>light_vector</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the PSSM camera rig. </p>
<p>This updates the rig with an updated camera position, and a given light vector. This should be called on a per-frame basis. It will reposition all camera sources to fit the frustum based on the pssm distribution.</p>
<p>The light vector should be the vector from the light source, not the vector to the light source.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cam_node</td><td>Target camera node </td></tr>
    <tr><td class="paramname">light_vector</td><td>The vector from the light to any point </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 8 2024 11:21:33 for Panda3D by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
