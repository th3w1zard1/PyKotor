<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Panda3D: ReferenceCount Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Panda3D
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepanda3d.html">panda3d</a></li><li class="navelem"><a class="el" href="namespacepanda3d_1_1core.html">core</a></li><li class="navelem"><a class="el" href="classpanda3d_1_1core_1_1ReferenceCount.html">ReferenceCount</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classpanda3d_1_1core_1_1ReferenceCount-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ReferenceCount Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A base class for all things that want to be reference-counted.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;pandadoc.hpp&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ReferenceCount:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classpanda3d_1_1core_1_1ReferenceCount.png" usemap="#ReferenceCount_map" alt=""/>
  <map id="ReferenceCount_map" name="ReferenceCount_map">
<area href="classpanda3d_1_1__rplight_1_1RPLight.html" title="Base class for Lights." alt="RPLight" shape="rect" coords="195,112,380,136"/>
<area href="classpanda3d_1_1__rplight_1_1ShadowManager.html" alt="ShadowManager" shape="rect" coords="195,168,380,192"/>
<area href="classpanda3d_1_1ai_1_1AICharacter.html" alt="AICharacter" shape="rect" coords="195,224,380,248"/>
<area href="classpanda3d_1_1core_1_1Buffer.html" alt="Buffer" shape="rect" coords="195,280,380,304"/>
<area href="classpanda3d_1_1core_1_1ClockObject.html" title="A ClockObject keeps track of elapsed real time and discrete time." alt="ClockObject" shape="rect" coords="195,336,380,360"/>
<area href="classpanda3d_1_1core_1_1Connection.html" title="Represents a single TCP or UDP socket for input or output." alt="Connection" shape="rect" coords="195,392,380,416"/>
<area href="classpanda3d_1_1core_1_1CullResult.html" title="This stores the result of a BinCullHandler traversal: an ordered collection of CullBins,..." alt="CullResult" shape="rect" coords="195,448,380,472"/>
<area href="classpanda3d_1_1core_1_1GeomVertexArrayDataHandle.html" title="This data object is returned by GeomVertexArrayData::get_handle() or modify_handle()." alt="GeomVertexArrayDataHandle" shape="rect" coords="195,504,380,528"/>
<area href="classpanda3d_1_1core_1_1GraphicsEngine.html" title="This class is the main interface to controlling the render process." alt="GraphicsEngine" shape="rect" coords="195,560,380,584"/>
<area href="classpanda3d_1_1core_1_1HTTPClient.html" title="Handles contacting an HTTP server and retrieving a document." alt="HTTPClient" shape="rect" coords="195,616,380,640"/>
<area href="classpanda3d_1_1core_1_1ModelReference.html" alt="ModelReference" shape="rect" coords="195,672,380,696"/>
<area href="classpanda3d_1_1core_1_1ModelRoot_1_1ModelReference.html" alt="ModelRoot::ModelReference" shape="rect" coords="195,728,380,752"/>
<area href="classpanda3d_1_1core_1_1MouseWatcherGroup.html" title="This represents a collection of MouseWatcherRegions that may be managed as a group." alt="MouseWatcherGroup" shape="rect" coords="195,784,380,808"/>
<area href="classpanda3d_1_1core_1_1Multifile.html" title="A file that contains a set of files." alt="Multifile" shape="rect" coords="195,840,380,864"/>
<area href="classpanda3d_1_1core_1_1NodeReferenceCount.html" title="This class specializes ReferenceCount to add an additional counter, called node_ref_count,..." alt="NodeReferenceCount" shape="rect" coords="195,896,380,920"/>
<area href="classpanda3d_1_1core_1_1NurbsCurveEvaluator.html" title="This class is an abstraction for evaluating NURBS curves." alt="NurbsCurveEvaluator" shape="rect" coords="195,952,380,976"/>
<area href="classpanda3d_1_1core_1_1NurbsCurveResult.html" title="The result of a NurbsCurveEvaluator." alt="NurbsCurveResult" shape="rect" coords="195,1008,380,1032"/>
<area href="classpanda3d_1_1core_1_1NurbsSurfaceEvaluator.html" title="This class is an abstraction for evaluating NURBS surfaces." alt="NurbsSurfaceEvaluator" shape="rect" coords="195,1064,380,1088"/>
<area href="classpanda3d_1_1core_1_1NurbsSurfaceResult.html" title="The result of a NurbsSurfaceEvaluator." alt="NurbsSurfaceResult" shape="rect" coords="195,1120,380,1144"/>
<area href="classpanda3d_1_1core_1_1PNMBrush.html" title="This class is used to control the shape and color of the drawing operations performed by a PNMPainter..." alt="PNMBrush" shape="rect" coords="195,1176,380,1200"/>
<area href="classpanda3d_1_1core_1_1PStatCollectorForwardBase.html" title="This class serves as a cheap forward reference to a PStatCollector, which is defined in the pstatclie..." alt="PStatCollectorForwardBase" shape="rect" coords="195,1232,380,1256"/>
<area href="classpanda3d_1_1core_1_1ParametricCurveCollection.html" title="This is a set of zero or more ParametricCurves, which may or may not be related." alt="ParametricCurveCollection" shape="rect" coords="195,1288,380,1312"/>
<area href="classpanda3d_1_1core_1_1PartBundleHandle.html" title="This is a trivial class returned by PartBundleNode::get_bundle()." alt="PartBundleHandle" shape="rect" coords="195,1344,380,1368"/>
<area href="classpanda3d_1_1core_1_1PreparedGraphicsObjects.html" title="A table of objects that are saved within the graphics context for reference by handle later." alt="PreparedGraphicsObjects" shape="rect" coords="195,1400,380,1424"/>
<area href="classpanda3d_1_1core_1_1SocketStreamRecorder.html" title="Records any data received from the indicated socket stream." alt="SocketStreamRecorder" shape="rect" coords="195,1456,380,1480"/>
<area href="classpanda3d_1_1core_1_1TexturePeeker.html" title="An instance of this object is returned by Texture::peek()." alt="TexturePeeker" shape="rect" coords="195,1512,380,1536"/>
<area href="classpanda3d_1_1core_1_1TypedReferenceCount.html" title="A base class for things which need to inherit from both TypedObject and from ReferenceCount." alt="TypedReferenceCount" shape="rect" coords="195,1568,380,1592"/>
<area href="classpanda3d_1_1core_1_1TypedWritableReferenceCount.html" title="A base class for things which need to inherit from both TypedWritable and from ReferenceCount." alt="TypedWritableReferenceCount" shape="rect" coords="195,1624,380,1648"/>
<area href="classpanda3d_1_1core_1_1VertexDataBlock.html" title="A block of bytes that stores the actual raw vertex data referenced by a GeomVertexArrayData object." alt="VertexDataBlock" shape="rect" coords="195,1680,380,1704"/>
<area href="classpanda3d_1_1core_1_1VirtualFileList.html" title="A list of VirtualFiles, as returned by VirtualFile::scan_directory()." alt="VirtualFileList" shape="rect" coords="195,1736,380,1760"/>
<area href="classpanda3d_1_1physics_1_1BaseIntegrator.html" title="pure virtual integrator class that holds cached matrix information that really should be common to an..." alt="BaseIntegrator" shape="rect" coords="195,1792,380,1816"/>
<area href="classpanda3d_1_1physics_1_1BaseParticleEmitter.html" alt="BaseParticleEmitter" shape="rect" coords="195,1848,380,1872"/>
<area href="classpanda3d_1_1physics_1_1BaseParticleFactory.html" title="Pure Virtual base class for creating particles." alt="BaseParticleFactory" shape="rect" coords="195,1904,380,1928"/>
<area href="classpanda3d_1_1physics_1_1BaseParticleRenderer.html" title="Pure virtual particle renderer base class." alt="BaseParticleRenderer" shape="rect" coords="195,1960,380,1984"/>
<area href="classpanda3d_1_1physics_1_1ColorInterpolationManager.html" alt="ColorInterpolationManager" shape="rect" coords="195,2016,380,2040"/>
<area href="classpanda3d_1_1physics_1_1ColorInterpolationSegment.html" alt="ColorInterpolationSegment" shape="rect" coords="195,2072,380,2096"/>
<area href="classpanda3d_1_1physics_1_1SpriteAnim.html" title="Helper class used by SpriteParticleRenderer to keep track of its textures and their respective UVs an..." alt="SpriteAnim" shape="rect" coords="195,2128,380,2152"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6c336617bdadf1660f079d3ceacf48bf" id="r_a6c336617bdadf1660f079d3ceacf48bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c336617bdadf1660f079d3ceacf48bf">getRefCount</a> ()</td></tr>
<tr class="memdesc:a6c336617bdadf1660f079d3ceacf48bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current reference count.  <br /></td></tr>
<tr class="separator:a6c336617bdadf1660f079d3ceacf48bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895fd31ef3cb5add22a875fc9e5bee19" id="r_a895fd31ef3cb5add22a875fc9e5bee19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a895fd31ef3cb5add22a875fc9e5bee19">ref</a> ()</td></tr>
<tr class="memdesc:a895fd31ef3cb5add22a875fc9e5bee19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicitly increments the reference count.  <br /></td></tr>
<tr class="separator:a895fd31ef3cb5add22a875fc9e5bee19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4e39df87bae0b1121681eb5e725812" id="r_a8d4e39df87bae0b1121681eb5e725812"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8d4e39df87bae0b1121681eb5e725812">testRefCountIntegrity</a> ()</td></tr>
<tr class="memdesc:a8d4e39df87bae0b1121681eb5e725812"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does some easy checks to make sure that the reference count isn't completely bogus.  <br /></td></tr>
<tr class="separator:a8d4e39df87bae0b1121681eb5e725812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70436632764926b0453751c516623065" id="r_a70436632764926b0453751c516623065"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70436632764926b0453751c516623065">testRefCountNonzero</a> ()</td></tr>
<tr class="memdesc:a70436632764926b0453751c516623065"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does some easy checks to make sure that the reference count isn't zero, or completely bogus.  <br /></td></tr>
<tr class="separator:a70436632764926b0453751c516623065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedee0f893c0e1766f4a89c544eec5c02" id="r_aedee0f893c0e1766f4a89c544eec5c02"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aedee0f893c0e1766f4a89c544eec5c02">unref</a> ()</td></tr>
<tr class="memdesc:aedee0f893c0e1766f4a89c544eec5c02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicitly decrements the reference count.  <br /></td></tr>
<tr class="separator:aedee0f893c0e1766f4a89c544eec5c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a6ee74ed0904ab08032e044c5bea991dc" id="r_a6ee74ed0904ab08032e044c5bea991dc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classpanda3d_1_1core_1_1TypeHandle.html">TypeHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ee74ed0904ab08032e044c5bea991dc">getClassType</a> ()</td></tr>
<tr class="separator:a6ee74ed0904ab08032e044c5bea991dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a223a278e0bf3b42ae887efe07bfbeac0" id="r_a223a278e0bf3b42ae887efe07bfbeac0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a223a278e0bf3b42ae887efe07bfbeac0">ref_count</a></td></tr>
<tr class="memdesc:a223a278e0bf3b42ae887efe07bfbeac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current reference count.  <br /></td></tr>
<tr class="separator:a223a278e0bf3b42ae887efe07bfbeac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A base class for all things that want to be reference-counted. </p>
<p><a class="el" href="classpanda3d_1_1core_1_1ReferenceCount.html" title="A base class for all things that want to be reference-counted.">ReferenceCount</a> works in conjunction with PointerTo to automatically delete objects when the last pointer to them goes away. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6ee74ed0904ab08032e044c5bea991dc" name="a6ee74ed0904ab08032e044c5bea991dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee74ed0904ab08032e044c5bea991dc">&#9670;&#160;</a></span>getClassType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classpanda3d_1_1core_1_1TypeHandle.html">TypeHandle</a> getClassType </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6c336617bdadf1660f079d3ceacf48bf" name="a6c336617bdadf1660f079d3ceacf48bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c336617bdadf1660f079d3ceacf48bf">&#9670;&#160;</a></span>getRefCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getRefCount </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current reference count. </p>

</div>
</div>
<a id="a895fd31ef3cb5add22a875fc9e5bee19" name="a895fd31ef3cb5add22a875fc9e5bee19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895fd31ef3cb5add22a875fc9e5bee19">&#9670;&#160;</a></span>ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ref </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Explicitly increments the reference count. </p>
<p>User code should avoid using <a class="el" href="#a895fd31ef3cb5add22a875fc9e5bee19" title="Explicitly increments the reference count.">ref()</a> and <a class="el" href="#aedee0f893c0e1766f4a89c544eec5c02" title="Explicitly decrements the reference count.">unref()</a> directly, which can result in missed reference counts. Instead, let a PointerTo object manage the reference counting automatically.</p>
<p>This function is const, even though it changes the object, because generally fiddling with an object's reference count isn't considered part of fiddling with the object. An object might be const in other ways, but we still need to accurately count the number of references to it. </p>

</div>
</div>
<a id="a8d4e39df87bae0b1121681eb5e725812" name="a8d4e39df87bae0b1121681eb5e725812"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d4e39df87bae0b1121681eb5e725812">&#9670;&#160;</a></span>testRefCountIntegrity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool testRefCountIntegrity </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does some easy checks to make sure that the reference count isn't completely bogus. </p>
<p>Returns true if ok, false otherwise. </p>

</div>
</div>
<a id="a70436632764926b0453751c516623065" name="a70436632764926b0453751c516623065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70436632764926b0453751c516623065">&#9670;&#160;</a></span>testRefCountNonzero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool testRefCountNonzero </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does some easy checks to make sure that the reference count isn't zero, or completely bogus. </p>
<p>Returns true if ok, false otherwise. </p>

</div>
</div>
<a id="aedee0f893c0e1766f4a89c544eec5c02" name="aedee0f893c0e1766f4a89c544eec5c02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedee0f893c0e1766f4a89c544eec5c02">&#9670;&#160;</a></span>unref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool unref </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Explicitly decrements the reference count. </p>
<p>Note that the object will not be implicitly deleted by <a class="el" href="#aedee0f893c0e1766f4a89c544eec5c02" title="Explicitly decrements the reference count.">unref()</a> simply because the reference count drops to zero. (Having a member function delete itself is problematic.) However, see the helper function unref_delete().</p>
<p>User code should avoid using <a class="el" href="#a895fd31ef3cb5add22a875fc9e5bee19" title="Explicitly increments the reference count.">ref()</a> and <a class="el" href="#aedee0f893c0e1766f4a89c544eec5c02" title="Explicitly decrements the reference count.">unref()</a> directly, which can result in missed reference counts. Instead, let a PointerTo object manage the reference counting automatically.</p>
<p>This function is const, even though it changes the object, because generally fiddling with an object's reference count isn't considered part of fiddling with the object. An object might be const in other ways, but we still need to accurately count the number of references to it.</p>
<p>The return value is true if the new reference count is nonzero, false if it is zero. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a223a278e0bf3b42ae887efe07bfbeac0" name="a223a278e0bf3b42ae887efe07bfbeac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a223a278e0bf3b42ae887efe07bfbeac0">&#9670;&#160;</a></span>ref_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ref_count</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The current reference count. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 8 2024 11:21:35 for Panda3D by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
