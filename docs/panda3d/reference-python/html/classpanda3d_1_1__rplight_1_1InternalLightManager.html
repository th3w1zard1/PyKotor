<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Panda3D: InternalLightManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Panda3D
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepanda3d.html">panda3d</a></li><li class="navelem"><a class="el" href="namespacepanda3d_1_1__rplight.html">_rplight</a></li><li class="navelem"><a class="el" href="classpanda3d_1_1__rplight_1_1InternalLightManager.html">InternalLightManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classpanda3d_1_1__rplight_1_1InternalLightManager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">InternalLightManager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Internal class used for handling lights and shadows.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;pandadoc.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a661c9fec719096053366368f803de8bf" id="r_a661c9fec719096053366368f803de8bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a661c9fec719096053366368f803de8bf">__init__</a> ()</td></tr>
<tr class="memdesc:a661c9fec719096053366368f803de8bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs the light manager.  <br /></td></tr>
<tr class="separator:a661c9fec719096053366368f803de8bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3b202c37ae9675dbc70e617c53ccf4" id="r_a5d3b202c37ae9675dbc70e617c53ccf4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5d3b202c37ae9675dbc70e617c53ccf4">__init__</a> (const <a class="el" href="classpanda3d_1_1__rplight_1_1InternalLightManager.html">InternalLightManager</a>)</td></tr>
<tr class="separator:a5d3b202c37ae9675dbc70e617c53ccf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b36a960545208d50bc1cd0716abef13" id="r_a1b36a960545208d50bc1cd0716abef13"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b36a960545208d50bc1cd0716abef13">addLight</a> (<a class="el" href="classpanda3d_1_1__rplight_1_1RPLight.html">RPLight</a> light)</td></tr>
<tr class="memdesc:a1b36a960545208d50bc1cd0716abef13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new light.  <br /></td></tr>
<tr class="separator:a1b36a960545208d50bc1cd0716abef13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b84e04e399882e13d253b79dec8b41" id="r_ab4b84e04e399882e13d253b79dec8b41"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4b84e04e399882e13d253b79dec8b41">getMaxLightIndex</a> ()</td></tr>
<tr class="memdesc:ab4b84e04e399882e13d253b79dec8b41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the maximum light index.  <br /></td></tr>
<tr class="separator:ab4b84e04e399882e13d253b79dec8b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4c5d7db2c1b970e4c9f9c3027d4d4a3" id="r_ae4c5d7db2c1b970e4c9f9c3027d4d4a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae4c5d7db2c1b970e4c9f9c3027d4d4a3">getNumLights</a> ()</td></tr>
<tr class="memdesc:ae4c5d7db2c1b970e4c9f9c3027d4d4a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the amount of stored lights.  <br /></td></tr>
<tr class="separator:ae4c5d7db2c1b970e4c9f9c3027d4d4a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a687c88bbda4dc65facafec6c47462d73" id="r_a687c88bbda4dc65facafec6c47462d73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a687c88bbda4dc65facafec6c47462d73">getNumShadowSources</a> ()</td></tr>
<tr class="memdesc:a687c88bbda4dc65facafec6c47462d73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the amount of shadow sources.  <br /></td></tr>
<tr class="separator:a687c88bbda4dc65facafec6c47462d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc32a1d9be2a3d00c49481405f9b461f" id="r_afc32a1d9be2a3d00c49481405f9b461f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpanda3d_1_1__rplight_1_1ShadowManager.html">ShadowManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc32a1d9be2a3d00c49481405f9b461f">getShadowManager</a> ()</td></tr>
<tr class="memdesc:afc32a1d9be2a3d00c49481405f9b461f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the internal used <a class="el" href="classpanda3d_1_1__rplight_1_1ShadowManager.html">ShadowManager</a>.  <br /></td></tr>
<tr class="separator:afc32a1d9be2a3d00c49481405f9b461f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da41af93c1c4501a65c5709f67e3533" id="r_a8da41af93c1c4501a65c5709f67e3533"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8da41af93c1c4501a65c5709f67e3533">removeLight</a> (<a class="el" href="classpanda3d_1_1__rplight_1_1RPLight.html">RPLight</a> light)</td></tr>
<tr class="memdesc:a8da41af93c1c4501a65c5709f67e3533"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a light.  <br /></td></tr>
<tr class="separator:a8da41af93c1c4501a65c5709f67e3533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40f0feb6204006baee7fadbe3c2ca9b9" id="r_a40f0feb6204006baee7fadbe3c2ca9b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a40f0feb6204006baee7fadbe3c2ca9b9">setCameraPos</a> (const <a class="el" href="namespacepanda3d_1_1core.html#a9099639f09c5ac6711d4df7bd0f3602e">LPoint3</a> pos)</td></tr>
<tr class="memdesc:a40f0feb6204006baee7fadbe3c2ca9b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the camera position.  <br /></td></tr>
<tr class="separator:a40f0feb6204006baee7fadbe3c2ca9b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2ac39f784fa9d004f1d2d6e3443812e" id="r_aa2ac39f784fa9d004f1d2d6e3443812e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2ac39f784fa9d004f1d2d6e3443812e">setCommandList</a> (<a class="el" href="classpanda3d_1_1__rplight_1_1GPUCommandList.html">GPUCommandList</a> cmd_list)</td></tr>
<tr class="memdesc:aa2ac39f784fa9d004f1d2d6e3443812e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a handle to the command list.  <br /></td></tr>
<tr class="separator:aa2ac39f784fa9d004f1d2d6e3443812e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b433c667a1b42edfff8080bae5fee5a" id="r_a7b433c667a1b42edfff8080bae5fee5a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b433c667a1b42edfff8080bae5fee5a">setShadowManager</a> (<a class="el" href="classpanda3d_1_1__rplight_1_1ShadowManager.html">ShadowManager</a> mgr)</td></tr>
<tr class="memdesc:a7b433c667a1b42edfff8080bae5fee5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the handle to the shadow manager.  <br /></td></tr>
<tr class="separator:a7b433c667a1b42edfff8080bae5fee5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ba8c9f886a619b57e0f55f4a1b4913" id="r_a08ba8c9f886a619b57e0f55f4a1b4913"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08ba8c9f886a619b57e0f55f4a1b4913">setShadowUpdateDistance</a> (float dist)</td></tr>
<tr class="memdesc:a08ba8c9f886a619b57e0f55f4a1b4913"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum shadow update distance.  <br /></td></tr>
<tr class="separator:a08ba8c9f886a619b57e0f55f4a1b4913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842e4774e3b3601a005b995c02f7e883" id="r_a842e4774e3b3601a005b995c02f7e883"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a842e4774e3b3601a005b995c02f7e883">update</a> ()</td></tr>
<tr class="memdesc:a842e4774e3b3601a005b995c02f7e883"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main update method.  <br /></td></tr>
<tr class="separator:a842e4774e3b3601a005b995c02f7e883"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a352c86f44e18af70c90965569043014d" id="r_a352c86f44e18af70c90965569043014d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a352c86f44e18af70c90965569043014d">max_light_index</a></td></tr>
<tr class="memdesc:a352c86f44e18af70c90965569043014d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the maximum light index.  <br /></td></tr>
<tr class="separator:a352c86f44e18af70c90965569043014d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb89646ba0814b23231720f02c5ba3ec" id="r_aeb89646ba0814b23231720f02c5ba3ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb89646ba0814b23231720f02c5ba3ec">num_lights</a></td></tr>
<tr class="memdesc:aeb89646ba0814b23231720f02c5ba3ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the amount of stored lights.  <br /></td></tr>
<tr class="separator:aeb89646ba0814b23231720f02c5ba3ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8db2897a19ef8015a527366f4500244e" id="r_a8db2897a19ef8015a527366f4500244e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8db2897a19ef8015a527366f4500244e">num_shadow_sources</a></td></tr>
<tr class="memdesc:a8db2897a19ef8015a527366f4500244e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the amount of shadow sources.  <br /></td></tr>
<tr class="separator:a8db2897a19ef8015a527366f4500244e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a245a50be30ac934075a16af3a43e83" id="r_a0a245a50be30ac934075a16af3a43e83"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpanda3d_1_1__rplight_1_1ShadowManager.html">ShadowManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a245a50be30ac934075a16af3a43e83">shadow_manager</a></td></tr>
<tr class="memdesc:a0a245a50be30ac934075a16af3a43e83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the internal used <a class="el" href="classpanda3d_1_1__rplight_1_1ShadowManager.html">ShadowManager</a>.  <br /></td></tr>
<tr class="separator:a0a245a50be30ac934075a16af3a43e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Internal class used for handling lights and shadows. </p>
<p>This is the internal class used by the pipeline to handle all lights and shadows. It stores references to the lights, manages handling the light and shadow slots, and also communicates with the GPU with the GPUCommandQueue to store light and shadow source data. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a661c9fec719096053366368f803de8bf" name="a661c9fec719096053366368f803de8bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a661c9fec719096053366368f803de8bf">&#9670;&#160;</a></span>__init__() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__init__ </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs the light manager. </p>
<p>This constructs the light manager, initializing the light and shadow storage. You should set a command list and shadow manager before calling <a class="el" href="#a842e4774e3b3601a005b995c02f7e883" title="Main update method.">InternalLightManager::update</a>. s </p>

</div>
</div>
<a id="a5d3b202c37ae9675dbc70e617c53ccf4" name="a5d3b202c37ae9675dbc70e617c53ccf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3b202c37ae9675dbc70e617c53ccf4">&#9670;&#160;</a></span>__init__() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__init__ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classpanda3d_1_1__rplight_1_1InternalLightManager.html">InternalLightManager</a></td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1b36a960545208d50bc1cd0716abef13" name="a1b36a960545208d50bc1cd0716abef13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b36a960545208d50bc1cd0716abef13">&#9670;&#160;</a></span>addLight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">addLight </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1__rplight_1_1RPLight.html">RPLight</a></td>          <td class="paramname"><span class="paramname"><em>light</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new light. </p>
<p>This adds a new light to the list of lights. This will throw an error and return if the light is already attached. You may only call this after the <a class="el" href="classpanda3d_1_1__rplight_1_1ShadowManager.html">ShadowManager</a> was already set.</p>
<p>While the light is attached, the light manager keeps a reference to it, so the light does not get destructed.</p>
<p>This also setups the shadows on the light, in case shadows are enabled. While a light is attached, you can not change whether it casts shadows or not. To do so, detach the light, change the setting, and re-add the light.</p>
<p>In case no free light slot is available, an error will be printed and no action will be performed.</p>
<p>If no shadow manager was set, an assertion will be triggered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">light</td><td>The light to add. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab4b84e04e399882e13d253b79dec8b41" name="ab4b84e04e399882e13d253b79dec8b41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4b84e04e399882e13d253b79dec8b41">&#9670;&#160;</a></span>getMaxLightIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getMaxLightIndex </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the maximum light index. </p>
<p>This returns the maximum light index (also called slot). Any lights after that slot are guaranteed to be zero-lights. This is useful when iterating over the list of lights, because iteration can be stopped when the maximum light index is reached.</p>
<p>The maximum light index points to the last slot which is used. If no lights are attached, -1 is returned. If one light is attached at slot 0, the index is 0, if two are attached at the slots 0 and 1, the index is 1, and so on.</p>
<p>If, for example, two lights are attached at the slots 2 and 5, then the index will be 5. Keep in mind that the max-index is not an indicator for how many lights are attached. Also, zero lights still may occur when iterating over the light lists</p>
<dl class="section return"><dt>Returns</dt><dd>Maximum light index </dd></dl>

</div>
</div>
<a id="ae4c5d7db2c1b970e4c9f9c3027d4d4a3" name="ae4c5d7db2c1b970e4c9f9c3027d4d4a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4c5d7db2c1b970e4c9f9c3027d4d4a3">&#9670;&#160;</a></span>getNumLights()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getNumLights </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the amount of stored lights. </p>
<p>This returns the amount of stored lights. This behaves unlike InternalLightManager::get_max_light_index, and instead returns the true amount of lights, which is completely unrelated to the amount of used slots.</p>
<dl class="section return"><dt>Returns</dt><dd>Amount of stored lights </dd></dl>

</div>
</div>
<a id="a687c88bbda4dc65facafec6c47462d73" name="a687c88bbda4dc65facafec6c47462d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a687c88bbda4dc65facafec6c47462d73">&#9670;&#160;</a></span>getNumShadowSources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getNumShadowSources </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the amount of shadow sources. </p>
<p>This returns the total amount of stored shadow sources. This does not denote the amount of updated sources, but instead takes into account all sources, even those out of frustum. </p><dl class="section return"><dt>Returns</dt><dd>Amount of shadow sources. </dd></dl>

</div>
</div>
<a id="afc32a1d9be2a3d00c49481405f9b461f" name="afc32a1d9be2a3d00c49481405f9b461f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc32a1d9be2a3d00c49481405f9b461f">&#9670;&#160;</a></span>getShadowManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpanda3d_1_1__rplight_1_1ShadowManager.html">ShadowManager</a> getShadowManager </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the internal used <a class="el" href="classpanda3d_1_1__rplight_1_1ShadowManager.html">ShadowManager</a>. </p>
<p>This returns a handle to the internally used shadow manager </p><dl class="section return"><dt>Returns</dt><dd>Shadow manager </dd></dl>

</div>
</div>
<a id="a8da41af93c1c4501a65c5709f67e3533" name="a8da41af93c1c4501a65c5709f67e3533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8da41af93c1c4501a65c5709f67e3533">&#9670;&#160;</a></span>removeLight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">removeLight </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1__rplight_1_1RPLight.html">RPLight</a></td>          <td class="paramname"><span class="paramname"><em>light</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a light. </p>
<p>This detaches a light. This prevents it from being rendered, and also cleans up all resources used by that light. If no reference is kept on the python side, the light will also get destructed.</p>
<p>If the light was not previously attached with InternalLightManager::add_light, an error will be triggered and nothing happens.</p>
<p>In case the light was set to cast shadows, all shadow sources are cleaned up, and their regions in the shadow atlas are freed.</p>
<p>All resources used by the light in the light and shadow storage are also cleaned up, by emitting cleanup GPUCommands.</p>
<p>If no shadow manager was set, an assertion will be triggered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">light</td><td>[description] </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a40f0feb6204006baee7fadbe3c2ca9b9" name="a40f0feb6204006baee7fadbe3c2ca9b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40f0feb6204006baee7fadbe3c2ca9b9">&#9670;&#160;</a></span>setCameraPos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setCameraPos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacepanda3d_1_1core.html#a9099639f09c5ac6711d4df7bd0f3602e">LPoint3</a></td>          <td class="paramname"><span class="paramname"><em>pos</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the camera position. </p>
<p>This sets the camera position, which will be used to determine which shadow sources have to get updated</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mat</td><td>View projection mat </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa2ac39f784fa9d004f1d2d6e3443812e" name="aa2ac39f784fa9d004f1d2d6e3443812e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2ac39f784fa9d004f1d2d6e3443812e">&#9670;&#160;</a></span>setCommandList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setCommandList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1__rplight_1_1GPUCommandList.html">GPUCommandList</a></td>          <td class="paramname"><span class="paramname"><em>cmd_list</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a handle to the command list. </p>
<p>This sets a handle to the global <a class="el" href="classpanda3d_1_1__rplight_1_1GPUCommandList.html" title="Class to store a list of commands.">GPUCommandList</a>. This is required to emit GPUCommands, which are used for attaching and detaching lights, as well as shadow source updates.</p>
<p>The cmd_list should be a handle to a <a class="el" href="classpanda3d_1_1__rplight_1_1GPUCommandList.html" title="Class to store a list of commands.">GPUCommandList</a> handle, and will be stored somewhere on the python side most likely. The light manager does not keep a reference to it, so the python side should make sure to keep one.</p>
<p>Be sure to call this before the <a class="el" href="#a842e4774e3b3601a005b995c02f7e883" title="Main update method.">InternalLightManager::update()</a> method is called, otherwise an assertion will get triggered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd_list</td><td>The <a class="el" href="classpanda3d_1_1__rplight_1_1GPUCommandList.html" title="Class to store a list of commands.">GPUCommandList</a> instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7b433c667a1b42edfff8080bae5fee5a" name="a7b433c667a1b42edfff8080bae5fee5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b433c667a1b42edfff8080bae5fee5a">&#9670;&#160;</a></span>setShadowManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setShadowManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1__rplight_1_1ShadowManager.html">ShadowManager</a></td>          <td class="paramname"><span class="paramname"><em>mgr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the handle to the shadow manager. </p>
<p>This sets the handle to the global shadow manager. It is usually constructed on the python side, so we need to get a handle to it.</p>
<p>The manager should be a handle to a <a class="el" href="classpanda3d_1_1__rplight_1_1ShadowManager.html">ShadowManager</a> instance, and will be stored somewhere on the python side most likely. The light manager does not keep a reference to it, so the python side should make sure to keep one.</p>
<p>Be sure to call this before the <a class="el" href="#a842e4774e3b3601a005b995c02f7e883" title="Main update method.">InternalLightManager::update()</a> method is called, otherwise an assertion will get triggered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mgr</td><td>The <a class="el" href="classpanda3d_1_1__rplight_1_1ShadowManager.html">ShadowManager</a> instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a08ba8c9f886a619b57e0f55f4a1b4913" name="a08ba8c9f886a619b57e0f55f4a1b4913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ba8c9f886a619b57e0f55f4a1b4913">&#9670;&#160;</a></span>setShadowUpdateDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setShadowUpdateDistance </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>dist</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the maximum shadow update distance. </p>
<p>This controls the maximum distance until which shadows are updated. If a shadow source is past that distance, it is ignored and no longer recieves updates until it is in range again</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dist</td><td>Distance in world space units </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a842e4774e3b3601a005b995c02f7e883" name="a842e4774e3b3601a005b995c02f7e883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a842e4774e3b3601a005b995c02f7e883">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main update method. </p>
<p>This is the main update method of the <a class="el" href="classpanda3d_1_1__rplight_1_1InternalLightManager.html" title="Internal class used for handling lights and shadows.">InternalLightManager</a>. It processes all lights and shadow sources, updates them, and notifies the GPU about it. This should be called on a per-frame basis.</p>
<p>If the <a class="el" href="classpanda3d_1_1__rplight_1_1InternalLightManager.html" title="Internal class used for handling lights and shadows.">InternalLightManager</a> was not initialized yet, an assertion is thrown. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a352c86f44e18af70c90965569043014d" name="a352c86f44e18af70c90965569043014d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a352c86f44e18af70c90965569043014d">&#9670;&#160;</a></span>max_light_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int max_light_index</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the maximum light index. </p>
<p>This returns the maximum light index (also called slot). Any lights after that slot are guaranteed to be zero-lights. This is useful when iterating over the list of lights, because iteration can be stopped when the maximum light index is reached.</p>
<p>The maximum light index points to the last slot which is used. If no lights are attached, -1 is returned. If one light is attached at slot 0, the index is 0, if two are attached at the slots 0 and 1, the index is 1, and so on.</p>
<p>If, for example, two lights are attached at the slots 2 and 5, then the index will be 5. Keep in mind that the max-index is not an indicator for how many lights are attached. Also, zero lights still may occur when iterating over the light lists</p>
<dl class="section return"><dt>Returns</dt><dd>Maximum light index </dd></dl>

</div>
</div>
<a id="aeb89646ba0814b23231720f02c5ba3ec" name="aeb89646ba0814b23231720f02c5ba3ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb89646ba0814b23231720f02c5ba3ec">&#9670;&#160;</a></span>num_lights</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int num_lights</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the amount of stored lights. </p>
<p>This returns the amount of stored lights. This behaves unlike InternalLightManager::get_max_light_index, and instead returns the true amount of lights, which is completely unrelated to the amount of used slots.</p>
<dl class="section return"><dt>Returns</dt><dd>Amount of stored lights </dd></dl>

</div>
</div>
<a id="a8db2897a19ef8015a527366f4500244e" name="a8db2897a19ef8015a527366f4500244e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8db2897a19ef8015a527366f4500244e">&#9670;&#160;</a></span>num_shadow_sources</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int num_shadow_sources</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the amount of shadow sources. </p>
<p>This returns the total amount of stored shadow sources. This does not denote the amount of updated sources, but instead takes into account all sources, even those out of frustum. </p><dl class="section return"><dt>Returns</dt><dd>Amount of shadow sources. </dd></dl>

</div>
</div>
<a id="a0a245a50be30ac934075a16af3a43e83" name="a0a245a50be30ac934075a16af3a43e83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a245a50be30ac934075a16af3a43e83">&#9670;&#160;</a></span>shadow_manager</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpanda3d_1_1__rplight_1_1ShadowManager.html">ShadowManager</a> shadow_manager</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the internal used <a class="el" href="classpanda3d_1_1__rplight_1_1ShadowManager.html">ShadowManager</a>. </p>
<p>This returns a handle to the internally used shadow manager </p><dl class="section return"><dt>Returns</dt><dd>Shadow manager </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 8 2024 11:21:33 for Panda3D by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
